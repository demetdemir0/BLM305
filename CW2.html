<html lang="en-US"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="../images/icon192.png">
    <title>List of Objects </title>

  <style>
    body { max-width: 500px; }
    #inp { white-space: pre-wrap; }
    #sample { overflow-x: auto; }
    #out { color: blue; }
  </style>
</head>

<body class="vsc-initialized">

<h2 id="title">List of Objects</h2>
<b>Text input &emsp;
<input type="button" id="convert" value="Convert" onclick="toList()">
</b>
<p>
  <textarea id="inp" rows="10" cols="50"></textarea>
</p>
<b>JSON output</b>
<pre id="out"></pre>
<hr>
<b>Sample code</b>
<pre id="sample">function toList(str) {<br>  function toObject(x) {<br>    let b = {}<br>    for (let [i,s] of x.split('\t').entries())<br>      b[keys[i]] = (isNaN(s)? s : Number(s))<br>    return b<br>  }<br>    if (str) inp.value = str<br>    else str = inp.value<br>    let [d0, ...data] = str.split('\n')<br>    let keys = d0.split('\t')<br>    console.log("Keys:", keys)<br>    let a = data.map(toObject)<br>    out.innerText = JSON.stringify(a, '' ,2)<br>    console.table(a)<br>    return a<br>}</pre>
<hr>
<p>Ref: 
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters#Examples" target="NewTab">Rest Parameters</a>
</p>

<script>
"use strict";
function toList(str) {
  function toObject(x) {
    let b = {}
    for (let [i,s] of x.split('\t').entries())
      b[keys[i]] = (isNaN(s)? s : Number(s))
    return b
  }
    if (str) inp.value = str
    else str = inp.value
    let [d0, ...data] = str.split('\n')
    let keys = d0.split('\t')
    console.log("Keys:", keys)
    let a = data.map(toObject)
    out.innerText = JSON.stringify(a, '' ,2)
    console.table(a)
    return a
}
const PLANET = 
`Name	Age	Class	Department
Mark	18	Elementary	BLM
Ted	23	Beginner	BME
Melissa	22	Elementary	BLM
Janet	15	Beginner	BME
Michael	29	Beginner	EEM
`,

MOUNT = `Name	Age	Class	Department
Mark	18	Elementary	BLM
Ted	23	Beginner	BME
Melissa	22	Elementary	BLM
Janet	15	Beginner	BME
Michael	29	Beginner	EEM`

    title.innerText = document.title
    sample.innerText = toList
    inp.value = MOUNT
    //toList()  //array of objects
</script>
<script src="/2022/navbar.js"></script><nav id="navbar"><link href="https://maeyler.github.io/JS/navbar.css" rel="stylesheet">
<ul>
    <li class="JavaScript">JavaScript
      <div class="menu">
        <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Introduction" target="BLM305">MDN Web Docs</a>
        <a href="https://maeyler.github.io/JS/" target="BLM305">JS Examples</a>
        <a href="https://javascript.info/" target="BLM305">JS Tutorial</a>
      </div>
    </li>
    <li class="Course">Course
      <div class="menu">
        <a href="/2022/index.html">Home üè†</a>
        <a href="/2022/Course_outline.html">Outline</a>
        <a href="https://eloquentjavascript.net/" target="BLM305">Textbook</a>
        <a href="https://github.com/BLM305/2022" target="BLM305">Repository</a>
      </div>
    </li>
    <li class="Work">Work
      <div class="menu">
        <a href="/2022/work/First%20Week">First Week</a>
        <a href="/2022/work/Month_1">First Month</a>
      </div>
    </li>
</ul></nav>


</body></html>